import{j as t,P as k}from"./index-BBIo_w1K.js";import{G as l,r as d,R as N}from"./icons-d3X3dEus.js";import"./vendor-gH-7aFTg.js";import"./music-metadata-B4iisFK4.js";const B="_banner_15hjr_1",L="_imageContainer_15hjr_47",P="_textContainer_15hjr_67",H="_songInfo_15hjr_84",I="_buttonsContainer_15hjr_91",p={banner:B,imageContainer:L,textContainer:P,songInfo:H,buttonsContainer:I},h=({icon:e,onClick:o,variant:s="primary",className:a=""})=>t.jsx("button",{className:`button  ${a}`.trim(),onClick:o,children:e});function S(e){return l({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function T(e){return l({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function A(e){return l({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function V(e){return l({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"},child:[]}]})(e)}function $(e){return l({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function F(e){return l({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.03 72.04L126.06 161H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V89.02c0-21.47-25.96-31.98-40.97-16.98zm123.2 108.08c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 229.28 336 242.62 336 257c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.87z"},child:[]}]})(e)}function D(e){return l({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(e)}function R(e){return l({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M215 71l-89 89H24a24 24 0 0 0-24 24v144a24 24 0 0 0 24 24h102.06L215 441c15 15 41 4.47 41-17V88c0-21.47-26-32-41-17z"},child:[]}]})(e)}function O(e){return l({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(e)}function U(e){return l({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m6 18 8.5-6L6 6v12zM16 6v12h2V6h-2z"},child:[]}]})(e)}function E(e){return l({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"},child:[]}]})(e)}function Z(e){return l({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"},child:[]}]})(e)}function G(e){return l({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 10H3v2h11v-2zm0-4H3v2h11V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM3 16h7v-2H3v2z"},child:[]}]})(e)}const q=({state:e="none",song:o,artist:s,album:a,coverUrl:n})=>(console.log("Banner props:",{state:e,song:o,artist:s,album:a,coverUrl:n}),t.jsxs("section",{className:p.banner,children:[t.jsx("div",{className:p.imageContainer,children:t.jsx("img",{src:n||"/music-player-logo.png",alt:`${a||"Unknown album"} cover art`,title:"Album cover art",width:350,height:350,style:{borderRadius:"45px",backgroundColor:"#f0f0f0",border:"2px solid #ddd",display:"block"},loading:"lazy",onLoad:r=>{console.log("Image loaded successfully:",r.target.src)},onError:r=>{console.error("Image failed to load:",r.target.src),r.target.src!=="/music-player-logo.png"&&(console.log("Trying fallback image"),r.target.src="/music-player-logo.png")}})}),t.jsxs("div",{className:p.textContainer,children:[t.jsx("h2",{style:{color:"var(--state-text)",fontSize:"20px"},children:e==="none"?"None Song":e==="paused"?"Paused":"Now Playing"}),t.jsxs("div",{className:p.songInfo,children:[t.jsx("h3",{style:{fontSize:"30px"},children:o}),t.jsx("h3",{style:{opacity:.35,fontSize:"24px"},children:s}),t.jsx("h3",{style:{fontSize:"22px"},children:a})]})]}),t.jsxs("div",{className:p.buttonsContainer,children:[t.jsx(h,{icon:t.jsx(S,{size:46,color:"gray"}),variant:"primary"}),t.jsx(h,{icon:t.jsx(G,{size:46,color:"gray"}),variant:"primary"}),t.jsx(h,{icon:t.jsx($,{size:46,color:"gray"}),variant:"primary"})]})]})),J="_controlsContainer_27szd_1",K="_playlistControls_27szd_26",Q="_playerControls_27szd_31",W="_volumeControl_27szd_35",X="_playbackControls_27szd_90",u={controlsContainer:J,playlistControls:K,playerControls:Q,volumeControl:W,playbackControls:X};function Y(e){return l({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,64v64a64,64,0,0,1-64,64H32V128A64,64,0,0,1,96,64Z",opacity:"0.2"},child:[]},{tag:"path",attr:{d:"M24,128A72.08,72.08,0,0,1,96,56H204.69L194.34,45.66a8,8,0,0,1,11.32-11.32l24,24a8,8,0,0,1,0,11.32l-24,24a8,8,0,0,1-11.32-11.32L204.69,72H96a56.06,56.06,0,0,0-56,56,8,8,0,0,1-16,0Zm200-8a8,8,0,0,0-8,8,56.06,56.06,0,0,1-56,56H51.31l10.35-10.34a8,8,0,0,0-11.32-11.32l-24,24a8,8,0,0,0,0,11.32l24,24a8,8,0,0,0,11.32-11.32L51.31,200H160a72.08,72.08,0,0,0,72-72A8,8,0,0,0,224,120Zm-88,40a8,8,0,0,0,8-8V104a8,8,0,0,0-11.58-7.16l-16,8a8,8,0,1,0,7.16,14.31l4.42-2.21V152A8,8,0,0,0,136,160Z"},child:[]}]})(e)}function tt(e){return l({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"},child:[]}]})(e)}const et="_volumeContainer_1vmdx_1",ot="_icon_1vmdx_7",nt="_slider_1vmdx_14",C={volumeContainer:et,icon:ot,slider:nt},v=()=>{const e=d.useContext(k);if(!e)throw new Error("usePlaylistContext must be used within a PlaylistProvider");return e},at=()=>{const{volume:e,isMuted:o,setVolume:s,toggleMute:a}=v(),n=d.useMemo(()=>Math.round((o?0:e)*100),[e,o]);return t.jsxs("div",{className:C.volumeContainer,children:[t.jsx("button",{type:"button","aria-label":o?"Unmute":"Mute",onClick:a,className:C.icon,children:n===0?t.jsx(D,{size:24,color:"#ff2ed1"}):n>0&&n<=30?t.jsx(R,{size:24,color:"#ff2ed1"}):n>30&&n<=60?t.jsx(F,{size:24,color:"#00eaff"}):t.jsx(O,{size:24,color:"#00eaff"})}),t.jsx("input",{type:"range",id:"volume-slider",min:"0",max:"100",value:n,onChange:r=>s(Number(r.target.value)/100),className:C.slider})]})},rt=d.memo(({isPlaying:e,onTogglePlay:o,onPrev:s,onNext:a})=>t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:[t.jsx(h,{onClick:s,icon:t.jsx(E,{size:32,color:"gray"})}),t.jsx(h,{onClick:o,icon:e?t.jsx(T,{size:46,color:"gray"}):t.jsx(A,{size:46,color:"gray"})}),t.jsx(h,{onClick:a,icon:t.jsx(U,{size:32,color:"gray"})})]})),st=()=>{const{isPlaying:e,playlist:o,currentTrack:s,playTrack:a,pauseTrack:n,resumeTrack:r,nextTrack:c,prevTrack:i,restartPlaylist:x,isShuffle:f,repeatOne:y,toggleShuffle:_,toggleRepeatOne:z}=v(),[M,j]=d.useState(!1),b=d.useCallback(()=>{if(e){n();return}if(s){r();return}o.length>0&&a(0)},[e,n,r,s,o,a]),w=d.useCallback(()=>{x(),j(!0),window.setTimeout(()=>j(!1),300)},[x]);return t.jsxs("section",{className:u.controlsContainer,children:[t.jsxs("div",{className:u.playlistControls,children:[t.jsx("button",{type:"button",onClick:_,"aria-pressed":f,"aria-label":"Alternar reproducción aleatoria",children:t.jsx(V,{size:46,color:f?"#ff2ed1":"gray"})}),t.jsx("button",{type:"button",onClick:z,"aria-pressed":y,"aria-label":"Alternar repetir una vez",children:t.jsx(Y,{size:46,color:y?"#ff2ed1":"gray"})})]}),t.jsx("section",{className:u.playerControls,children:t.jsx(rt,{isPlaying:e,onTogglePlay:b,onPrev:i,onNext:c})}),t.jsx("div",{className:u.playbackControls,children:t.jsx("button",{type:"button",onClick:w,"aria-label":"Reiniciar pista",children:t.jsx(tt,{size:46,color:M?"#ff2ed1":"gray"})})}),t.jsx("div",{className:u.volumeControl,children:t.jsx(at,{})})]})},lt="_progressContainer_1p7es_1",it="_progressBar_1p7es_19",ct="_timeIndicator_1p7es_22",dt="_timeStamps_1p7es_26",ht="_showTooltip_1p7es_94",g={progressContainer:lt,progressBar:it,timeIndicator:ct,timeStamps:dt,showTooltip:ht},pt=({value:e=0,maxValue:o=200,onChange:s})=>{const[a,n]=N.useState(!1),r=i=>{const x=Math.floor(i/60),f=i%60;return`${x}:${f.toString().padStart(2,"0")}`},c=d.useMemo(()=>o?e/o*100:0,[e,o]);return t.jsxs("section",{className:g.progressContainer,children:[t.jsx("input",{type:"range",min:0,max:o,value:e,onChange:i=>s?.(Number(i.target.value)),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onMouseDown:()=>n(!0),onMouseUp:()=>n(!1),className:g.progressBar}),t.jsx("div",{className:`${g.timeIndicator} ${a?g.showTooltip:""}`,style:{left:`calc(${c}% - 20px)`},children:r(e)}),t.jsxs("div",{className:g.timeStamps,children:[t.jsx("span",{children:r(e)}),t.jsx("span",{children:r(o)})]})]})},ut="_dropzone_1ntts_1",gt="_dragging_1ntts_17",mt="_fileInput_1ntts_24",xt="_dropzoneContent_1ntts_34",ft="_uploadIcon_1ntts_40",m={dropzone:ut,dragging:gt,fileInput:mt,dropzoneContent:xt,uploadIcon:ft},vt=()=>{const[e,o]=d.useState(!1),{isLoading:s,importFiles:a}=v(),n=d.useCallback(async c=>{c.preventDefault(),c.stopPropagation(),o(!1);const i=c.dataTransfer.files;i&&i.length>0&&await a(i)},[a]),r=async c=>{const i=c.target.files;i&&i.length>0&&await a(i)};return t.jsxs("div",{className:`${m.dropzone} ${e?m.dragging:""}`,onDragOver:c=>{c.preventDefault(),o(!0)},onDragLeave:c=>{c.preventDefault(),o(!1)},onDrop:n,children:[t.jsx("input",{type:"file",webkitdirectory:"",directory:"",multiple:!0,accept:"audio/*",onChange:r,className:m.fileInput}),t.jsx("div",{className:m.dropzoneContent,children:s?t.jsx("span",{children:"Cargando..."}):t.jsx(Z,{className:m.uploadIcon,color:"gray"})})]})},zt=()=>{const{isPlaying:e,currentTrack:o,currentTime:s,duration:a,seekTo:n}=v();return t.jsxs(t.Fragment,{children:[t.jsx(q,{state:e?"playing":o?"paused":"none",song:o?.title||o?.name||"",artist:o?.artist||"",album:o?.album||"",coverUrl:o?.coverUrl||""}),t.jsx(pt,{value:Math.floor(s),maxValue:Math.max(0,Math.floor(a||0)),onChange:r=>n(r)}),t.jsx(st,{}),t.jsx(vt,{})]})};export{zt as default};
